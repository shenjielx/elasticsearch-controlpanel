<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>elasticsearch-control</title>
		<!-- 新 Bootstrap 核心 CSS 文件 -->
		<link rel="stylesheet" href="./css/bootstrap.min.css">
		<link rel="stylesheet" href="./css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="./css/basic.css">
		<script src="./js/jquery-1.10.2.min.js"></script>
		<script src="./js/bootstrap.min.js"></script>
		<script>
			var url="http://112.124.51.187:9200";
			//url=location.href;
			window.onload = function() {
				if(url.indexOf("/_plugin/")>0) {
					var base_uri = url.replace(/_plugin\/.*/, '');
				}
			};
		</script>
		<link rel="icon" href="./img/logo.png" type="image/png">
	</head>
	<body>
		<div>
				<h1 style="padding-left:2%; padding-right:2%;">
					<span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>
					<span> elasticsearch-control</span>

					<label class="form-label pull-right J_connectWarning" style="color:red;"></label>
					<button type="button" class="btn btn-primary btnConnect pull-right" data-loading-text="Loading..." autocomplete="off">连接</button>
					<input type="text" class="form-control pull-right J_connectUrl" placeholder="如：http://localhost:9200/" style="max-width:320px;">
					<label class="form-label pull-right">ES集群节点：</label>
				</h1>
				<hr style="margin-top: 0px; margin-bottom: 10px;">
		</div>
		<div class="container-fluid">

			<div class="col-md-3 col-xs-4 col-sm-6" style="padding-left:0px;padding-right:5px;">

				<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
				  <div class="panel panel-default">
				    <div class="panel-heading" role="tab" id="headingOne">
				      <h4 class="panel-title">
				        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse_node_info" aria-expanded="true" aria-controls="collapse_node_info">
				        	节点状态
				        </a>
				      </h4>
				    </div>
				    <div id="collapse_node_info" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
				      <div class="panel-body">

				      </div>
				    </div>
				  </div>
				  <div class="panel panel-default">
				    <div class="panel-heading" role="tab" id="headingTwo">
				      <h4 class="panel-title">
				        <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse_index_info" aria-expanded="false" aria-controls="collapse_index_info">
				          索引信息
				        </a>
				      </h4>
				    </div>
				    <div id="collapse_index_info" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
				      <div class="panel-body">

				      </div>
				    </div>
				  </div>

					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="headingThree">
							<h4 class="panel-title">
								<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapse_search_json" aria-expanded="true" aria-controls="collapse_search_json">
									查询语句
								</a>
							</h4>
						</div>
						<div id="collapse_search_json" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
							<div class="panel-body">
										<pre>
											<div>{</div>
											<div> "query": {</div>
											<div>  "bool": {</div>
											<div>   "must": [</div>
											<div>    {</div>
											<div>     "match_all": { }</div>
											<div>    }</div>
											<div>   ],</div>
											<div>   "must_not": [ ],</div>
											<div>   "should": [ ]</div>
											<div>   }</div>
											<div>  },</div>
											<div> "from": 0,</div>
											<div> "size": 10,</div>
											<div> "sort": [ ],</div>
											<div> "facets": { }</div>
											<div>}</div>
										</pre>
							</div>
							<div class="panel-footer">
								<a class="form-label" href="javascript:;">格式化Json字符串</a>
							</div>
					</div>
				</div>


				</div>


			</div>

			<div class="col-md-9 col-xs-8 col-sm-6" style="padding-right:0px;padding-left:5px;">

				<div class="panel panel-default">
				  <div class="panel-heading">
						<select class="searchDocs form-control pull-left" name="searchDocs" style="max-width:320px;margin-top: -6px;">
							<option value="">请选择查询文档</option>
						</select>
						<input type="checkbox" class="chkShowJson" checked="true" />
						<span class="form-label">显示查询语句</span>
					</div>
				  <div class="panel-body" style="padding-left:0px;padding-right:0px;padding-bottom:0px;">
						<dl class="dl-horizontal">
							<dt><label class="form-label">基本查询条件：</label></dt>
							<dd class="searchBasic">
								<div class="search-column">
									<select class="searchBool form-control pull-left" name="searchBool" style="max-width:150px;">
										<option value="must">must</option>
										<option value="must_not">must_not</option>
										<option value="should">should</option>
									</select>
									<select class="searchField form-control pull-left" name="searchField" style="max-width:150px;">
										<option value="">请选择</option>
									</select>
									<span>
										<button type="button" class="btn btn-primary btnAdd" data-loading-text="Loading..." autocomplete="off">添加条件</button>
									</span>
									<button type="button" class="btn btn-danger btnDel" data-loading-text="Loading..." autocomplete="off">删除</button>
									<div class="clearfix"></div>
								</div>
							</dd>
						</dl>

						<dl class="dl-horizontal">
							<dt><label class="form-label">复合字段条件：</label></dt>
							<dd class="searchComplex">
								<div class="search-column">
									<select class="searchBool form-control pull-left" name="searchBool" style="max-width:150px;">
										<option value="must">must</option>
										<option value="must_not">must_not</option>
										<option value="should">should</option>
									</select>
									<select class="searchField form-control pull-left" name="searchField" style="max-width:150px;">
										<option value="">请选择</option>
									</select>
									<span>
										<button type="button" class="btn btn-primary btnAdd" data-loading-text="Loading..." autocomplete="off">添加条件</button>
									</span>
									<button type="button" class="btn btn-danger btnDel" data-loading-text="Loading..." autocomplete="off">删除</button>
									<div class="clearfix"></div>
								</div>
							</dd>
						</dl>

				  </div>
					<div class="panel-footer">
						<div>
							<label class="form-label pull-left">排序字段：</label>
							<select class="sortField form-control pull-left" name="sortField" style="max-width:150px;">
								<option value="">请选择</option>
							</select>
							<label class="form-label pull-left">排序类型：</label>
							<select class="sortType form-control pull-left" name="sortType" style="max-width:130px;">
								<option value="desc">降序[DESC]</option>
								<option value="asc">升序[ASC]</option>
							</select>
							<label class="form-label pull-left">返回格式：</label>
							<select class="backFormat form-control pull-left" name="backFormat" style="max-width:90px;">
								<option value="table">Table</option>
								<option value="json">JSON</option>
								<option value="csv">CSV</option>
							</select>
							<label class="form-label pull-left">每页显示数量：</label>
							<select class="pageSize form-control" name="pageSize" style="max-width:90px;">
								<option value="10">10</option>
								<option value="50">50</option>
								<option value="250">250</option>
								<option value="1000">1000</option>
								<option value="5000">5000</option>
								<option value="25000">25000</option>
							</select>
						</div>
					</div>
				</div>

				<div class="clearfix"></div>

				<div class="panel-group" id="accordion_json" role="tablist" aria-multiselectable="true" style="margin-bottom: 10px;">

					<div class="panel panel-default">
				    <div class="panel-heading" role="tab" id="headingOne">
				      <h4 class="panel-title">
				        <a role="button" data-toggle="collapse" data-parent="#accordion_json" href="#collapse_field" aria-expanded="true" aria-controls="collapse_field">
				        	选择返回的字段(默认全部)
				        </a>
				      </h4>
				    </div>
				    <div id="collapse_field" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
				      <div class="panel-body">

				      </div>
				    </div>
					</div>

				</div>
				<div class="clearfix"></div>

				<div style="margin-bottom:10px;">
					<button type="button" id="btnSearch" data-loading-text="Loading..."  class="btn btn-primary col-md-4 col-xs-5 col-sm-6" autocomplete="off" style="float: none;">查询</button>
				</div>

				<div class="panel panel-default">
				  <div class="panel-heading"><label>查询结果：</label><span> 查询总数：1,234,567条</span></div>
				  <div class="panel-body" style="padding: 0px;overflow-x: scroll;">
						<table class="table table-bordered table-hover" style="margin-bottom: 0px;border: 0px;">
						      <thead>
						        <tr>
						          <th style="width:80px;">序号 <a class="glyphicon glyphicon-triangle-right pull-right J_flexShow" aria-hidden="true" href="javascript:;" style="display:none;"></a></th>
						          <th class="J_flex" style="width:150px;">_index</th>
						          <th class="J_flex" style="width:150px;">_type</th>
						          <th class="J_flex" style="width:150px;">_score <a class="pull-right J_flexHide" href="javascript:;"><span class="glyphicon glyphicon-triangle-left" aria-hidden="true"></span> 收缩</a></th>
						          <th>_id</th>
											<th>Name</th>
											<th>Age</th>
						        </tr>
						      </thead>
						      <tbody>
						        <tr>
						          <th scope="row">1</th>
						          <td class="J_flex">mallcoo</td>
						          <td class="J_flex">person</td>
						          <td class="J_flex">1</td>
						          <td>48:43:7c:61:3c:ee_42_</td>
						          <td>测试</td>
						          <td>19</td>
						        </tr>
						        <tr>
						          <th scope="row">2</th>
						          <td class="J_flex">mallcoo</td>
						          <td class="J_flex">person</td>
						          <td class="J_flex">1</td>
						          <td>48:43:7c:61:3c:ee_42_</td>
						          <td>测试</td>
						          <td>19</td>
						        </tr>
						        <tr>
						          <th scope="row">3</th>
						          <td class="J_flex">mallcoo</td>
						          <td class="J_flex">person</td>
						          <td class="J_flex">1</td>
						          <td>48:43:7c:61:3c:ee_42_</td>
						          <td>测试</td>
						          <td>19</td>
						        </tr>
						      </tbody>
						    </table>
				  </div>
					<div class="panel-footer">
						<nav>
						  <ul class="pagination">
						    <li>
						      <a href="#" aria-label="first">
						        <span aria-hidden="true">首页</span>
						      </a>
						    </li>
						    <li>
						      <a href="#" aria-label="Previous">
						        <span aria-hidden="true">上一页</span>
						      </a>
						    </li>
						    <li class="active"><a href="#">1</a></li>
						    <li><a href="#">2</a></li>
						    <li><a href="#">3</a></li>
						    <li><a href="#">4</a></li>
						    <li><a href="#">5</a></li>
						    <li>
						      <a href="#" aria-label="Next">
						        <span aria-hidden="true">下一页</span>
						      </a>
						    </li>
								<li>
						      <a href="#" aria-label="last">
						        <span aria-hidden="true">尾页</span>
						      </a>
						    </li>
						  </ul>
						</nav>
					</div>
				</div>


			</div>

		</div>


		<script src="./layer/layer.js"></script>
		<script src="./js/basic.js"></script>
		<script type="text/javascript">

        jQuery(document).ready(function () {
            statistics.init();
        });

    </script>
	</body>
</html>
